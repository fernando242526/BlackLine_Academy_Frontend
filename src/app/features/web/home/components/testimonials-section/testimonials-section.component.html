<section class="py-24 bg-void-black relative overflow-hidden">
    <!-- Fondo con patrones hexagonales -->
    <div class="absolute inset-0 opacity-5">
        <div class="hexagon-pattern"></div>
    </div>

    <div class="container mx-auto px-4 relative z-10">
        <!-- Encabezado de sección -->
        <div class="text-center mb-16">
            <h2 class="font-orbitron text-3xl md:text-4xl font-bold tracking-wider text-ghost-gray mb-4">
                <span class="text-neon-copper">&lt;/&gt;</span> Voces de la Comunidad <span
                    class="text-neon-copper">&lt;/&gt;</span>
            </h2>
            <p class="text-base text-ghost-gray max-w-3xl mx-auto">
                Escucha las experiencias de agentes que ya son parte de nuestra red global de conocimiento
            </p>
        </div>

        <!-- Slider de testimonios -->
        <div class="testimonials-slider relative">
            <!-- Controles del slider -->
            <button (click)="previousSlide()"
                class="absolute left-0 top-1/2 -translate-y-1/2 z-10 w-10 h-10 flex items-center justify-center rounded-full bg-void-black/80 border border-plasma-line text-ghost-gray hover:text-cyber-cyan hover:border-cyber-cyan transition-colors duration-300">
                <fa-icon [icon]="faChevronLeft"></fa-icon>
            </button>

            <button (click)="nextSlide()"
                class="absolute right-0 top-1/2 -translate-y-1/2 z-10 w-10 h-10 flex items-center justify-center rounded-full bg-void-black/80 border border-plasma-line text-ghost-gray hover:text-cyber-cyan hover:border-cyber-cyan transition-colors duration-300">
                <fa-icon [icon]="faChevronRight"></fa-icon>
            </button>

            <!-- Contenedor de slides -->
            <div class="overflow-hidden">
                <div class="flex transition-transform duration-500 ease-in-out"
                    [style.transform]="'translateX(' + slideOffset + 'px)'">
                    <!-- Slide individual (repetido para cada testimonio) -->
                    <div *ngFor="let testimonial of testimonials" class="w-full md:w-1/2 lg:w-1/3 p-4 flex-shrink-0">
                        <div class="testimonial-card bg-void-black border border-plasma-line p-6 rounded-lg relative">
                            <!-- Puntitos decorativos en esquinas -->
                            <div class="absolute top-0 left-0 w-3 h-3 -mt-px -ml-px"
                                [ngClass]="'border-t border-l border-' + testimonial.accentColor"></div>
                            <div class="absolute top-0 right-0 w-3 h-3 -mt-px -mr-px"
                                [ngClass]="'border-t border-r border-' + testimonial.accentColor"></div>
                            <div class="absolute bottom-0 left-0 w-3 h-3 -mb-px -ml-px"
                                [ngClass]="'border-b border-l border-' + testimonial.accentColor"></div>
                            <div class="absolute bottom-0 right-0 w-3 h-3 -mb-px -mr-px"
                                [ngClass]="'border-b border-r border-' + testimonial.accentColor"></div>

                            <!-- Comillas decorativas -->
                            <div class="text-5xl font-serif absolute top-3 left-3"
                                [ngClass]="'text-' + testimonial.accentColor + '/20'">"</div>

                            <!-- Contenido -->
                            <div class="text-ghost-gray italic text-sm mb-6 relative z-10 pt-4">
                                "{{testimonial.content}}"
                            </div>

                            <!-- Información del autor -->
                            <div class="flex items-center">
                                <!-- Avatar -->
                                <div class="w-12 h-12 rounded-full overflow-hidden mr-4 flex items-center justify-center bg-plasma-line/20"
                                    [ngClass]="'border border-' + testimonial.accentColor + '/50'">
                                    <fa-icon [icon]="faUser" [ngClass]="'text-' + testimonial.accentColor"></fa-icon>
                                </div>

                                <!-- Nombre y detalles -->
                                <div>
                                    <div class="font-orbitron text-sm font-semibold"
                                        [ngClass]="'text-' + testimonial.accentColor">
                                        {{testimonial.name}}
                                    </div>
                                    <div class="text-xs text-ghost-gray/70">
                                        {{testimonial.position}}
                                    </div>

                                    <!-- Estrellas de valoración -->
                                    <div class="flex mt-1">
                                        <ng-container *ngFor="let star of [1, 2, 3, 4, 5]">
                                            <fa-icon [icon]="faStar" [ngClass]="star <= testimonial.rating ? 
                            'text-' + testimonial.accentColor : 'text-plasma-line'" class="text-xs mr-1"></fa-icon>
                                        </ng-container>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Indicadores -->
            <div class="flex justify-center mt-6 gap-2">
                <button *ngFor="let dot of slideDots; let i = index" (click)="goToSlide(i)"
                    class="w-3 h-3 rounded-full transition-all duration-300"
                    [ngClass]="currentSlide === i ? 'bg-cyber-cyan' : 'bg-plasma-line hover:bg-cyber-cyan/50'"></button>
            </div>
        </div>

        <!-- Banner de estadísticas -->
        <div class="mt-20 p-8 border border-plasma-line rounded-lg bg-void-black/60 backdrop-blur-sm">
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 text-center">
                <div *ngFor="let stat of stats" class="p-4">
                    <div class="text-3xl font-orbitron font-bold mb-2" [ngClass]="'text-' + stat.color">
                        {{stat.value}}
                    </div>
                    <div class="text-ghost-gray text-sm">{{stat.label}}</div>
                </div>
            </div>
        </div>
    </div>
</section>